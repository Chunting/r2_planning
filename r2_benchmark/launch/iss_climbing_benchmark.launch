<launch>

  <arg name="debug" default="false"/>
  <arg unless="$(arg debug)" name="launch_prefix" value="" />
  <arg     if="$(arg debug)" name="launch_prefix" value="gdb --ex run --args" />

  <!-- world description -->
  <arg name="world" default="$(find r2_planning_demos)/world/iss_navigation.world.yaml"/>

  <!-- benchmark options file -->
  <arg name="bench_opts" default="$(find r2_benchmark)/benchmark/iss_climbing.yaml"/>

  <!-- Load universal robotic description format (URDF) -->
  <param name="robot_description" textfile="$(find r2_description)/urdf/r2c6.urdf"/>

  <!-- Load a simplified URDF for legs ONLY (for faster inverse kinematics) -->
  <param name="legs/simplified_robot_description" command="$(find xacro)/xacro.py '$(find r2_simplified_urdf)/r2c6_legs_only_creepy.xacro'" />

  <!-- Load OMPL settings -->
  <include file="$(find r2_planning_moveit_config)/launch/planning_context.launch">
    <arg name="load_robot_description" value="false"/>
  </include>

  <!-- Planning Functionality -->
  <include file="$(find r2_planning_moveit_config)/launch/planning_pipeline.launch.xml">
    <arg name="pipeline" value="ompl_new" />
  </include>

  <!-- Start up the moveit warehouse db -->
  <include file="$(find r2_planning_moveit_config)/launch/default_warehouse_db.launch" />

  <node name="iss_climbing_benchmark" pkg="r2_benchmark" type="iss_climbing_benchmark" launch-prefix="$(arg launch_prefix)" output="screen" required="true">
    <rosparam command="load" file="$(arg bench_opts)"/>
    <rosparam command="load" file="$(arg world)"/>
    <param name="constraint_samplers" value="moveit_r2_constraints/MoveItR2ConstraintSamplerAllocator moveit_r2_constraints/MoveItR2PoseSamplerAllocator"/>
  </node>
</launch>